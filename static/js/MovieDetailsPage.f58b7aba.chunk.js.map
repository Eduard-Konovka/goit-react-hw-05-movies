{"version":3,"sources":["services/api-service.js","services/settings-url.js","pages/MovieDetailsPage/MovieDetailsPage.module.css","pages/MovieDetailsPage/MovieDetailsPage.jsx"],"names":["axios","require","apiService","url","PATH_HOME","PATH_SEARCH","params","api_key","URL","KEY","page","params_search","language","query","include_adult","fetchArticles","request","BASE","URLSearchParams","toString","get","data","results","incrementPage","this","resetPage","newPage","searchQuery","newQuery","movieApiService","PATH","id","W342_IMG_URL","W500_IMG_URL","W780_IMG_URL","TRAILER","module","exports","Cast","lazy","Reviews","MovieDetailsPage","movieId","useParams","useState","movie","setMovie","useEffect","then","className","s","box","src","poster_path","alt","title","description","vote_average","overview","genres","map","genre","name","additional","to","fallback","timeout","path","element"],"mappings":"kPACMA,EAAQC,EAAQ,IAGTC,EAAa,CACxBC,IAAK,GACLC,UAAW,iBACXC,YAAa,eACbC,OAAQ,CACNC,QAAQ,GAAD,OAAKC,IAAIC,KAChBC,KAAM,GAERC,cAAe,CACbC,SAAU,QACVC,MAAO,GACPC,eAAe,GAGXC,cAdkB,SAcJC,GAAU,IAAD,iIAEzB,EAAKb,IADS,WAAZa,EACF,UAAcR,IAAIS,KAAlB,YAA0B,EAAKZ,YAA/B,YAA8C,IAAIa,gBAChD,EAAKZ,QACLa,WAFF,YAEgB,IAAID,gBAAgB,EAAKP,eAAeQ,YAExD,UAAcX,IAAIS,KAAlB,YACE,EAAKb,UADP,YAEIY,EAFJ,YAEe,IAAIE,gBAAgB,EAAKZ,QAAQa,YARvB,SAWJnB,EAAMoB,IAAI,EAAKjB,KAXX,uBAWnBkB,EAXmB,EAWnBA,KAXmB,kBAYpBA,EAAKC,SAZe,8CAe7BC,cA7BwB,WA8BtBC,KAAKlB,OAAOI,MAAQ,GAGtBe,UAjCwB,WAkCtBD,KAAKlB,OAAOI,KAAO,GAGjBA,WACF,OAAOc,KAAKlB,OAAOI,MAGjBA,SAAKgB,GACPF,KAAKlB,OAAOI,KAAOgB,GAGjBC,kBACF,OAAOH,KAAKb,cAAcE,OAGxBc,gBAAYC,GACdJ,KAAKb,cAAcE,MAAQe,IAKlBC,EAAkB,CAC7BC,KAAK,QACLxB,OAAQ,CACNC,QAAQ,GAAD,OAAKC,IAAIC,KAChBG,SAAU,SAGNG,cAPuB,SAOTC,EAASe,GAAK,IAAD,mIACzB5B,EADyB,UAChBK,IAAIS,KADY,YACJ,EAAKa,KADD,YACSC,GADT,OACcf,EADd,YACyB,IAAIE,gBAC1D,EAAKZ,QACLa,YAH6B,SAKRnB,EAAMoB,IAAIjB,GALF,uBAKvBkB,EALuB,EAKvBA,KALuB,kBAMxBA,GANwB,gD,gCCzDpBb,IATH,CACVS,KAAM,+BACNR,IAAK,mCACLuB,aAAc,kCACdC,aAAc,kCACdC,aAAc,kCACdC,QAAS,mC,mBCLXC,EAAOC,QAAU,CAAC,IAAM,8BAA8B,YAAc,sCAAsC,WAAa,uC,+JCMjHC,EAAOC,gBAAK,kBAChB,gCAEIC,EAAUD,gBAAK,kBACnB,gCAKa,SAASE,IACtB,IAAQC,EAAYC,cAAZD,QACR,EAA0BE,mBAAS,MAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAMA,OAJAC,qBAAU,WACRlB,IAAgBd,cAAc,KAAM2B,GAASM,KAAKF,KACjD,CAACJ,IAGF,mCACGG,GACC,qCACE,sBAAKI,UAAWC,IAAEC,IAAlB,UACE,qBACEC,IAAG,UAAK5C,IAAIwB,aAAT,YAAyBa,EAAMQ,aAClCC,IAAKT,EAAMU,QAGb,sBAAKN,UAAWC,IAAEM,YAAlB,UACE,6BAAKX,EAAMU,QACX,6CAAqC,GAArBV,EAAMY,aAAtB,OACA,0CACA,4BAAIZ,EAAMa,WACV,wCACA,4BAAIb,EAAMc,OAAOC,KAAI,SAAAC,GAAK,OAAIA,EAAMC,KAAO,eAI/C,sBAAKb,UAAWC,IAAEa,WAAlB,UACE,wDACA,+BACE,6BACE,cAAC,IAAD,CAAMC,GAAE,kBAAatB,EAAb,SAAR,oBAGF,6BACE,cAAC,IAAD,CAAMsB,GAAE,kBAAatB,EAAb,YAAR,6BAKN,cAAC,WAAD,CAAUuB,SAAU,cAAC,IAAD,CAASC,QAAS,MAAtC,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,QAAQC,QAASvB,GAAS,cAACP,EAAD,MACtC,cAAC,IAAD,CAAO6B,KAAK,WAAWC,QAASvB,GAAS,cAACL,EAAD","file":"static/js/MovieDetailsPage.f58b7aba.chunk.js","sourcesContent":["import URL from './settings-url';\nconst axios = require('axios');\n\n// Запросы на списки популярных фильмов НА СЕГОДНЯ или ПО КЛЮЧЕВОМУ СЛОВУ для создания коллекции на главной странице\nexport const apiService = {\n  url: '',\n  PATH_HOME: 'trending/movie',\n  PATH_SEARCH: 'search/movie',\n  params: {\n    api_key: `${URL.KEY}`,\n    page: 1,\n  },\n  params_search: {\n    language: 'en-US',\n    query: '',\n    include_adult: false,\n  },\n\n  async fetchArticles(request) {\n    if (request === 'search') {\n      this.url = `${URL.BASE}/${this.PATH_SEARCH}?${new URLSearchParams(\n        this.params,\n      ).toString()}&${new URLSearchParams(this.params_search).toString()}`;\n    } else {\n      this.url = `${URL.BASE}/${\n        this.PATH_HOME\n      }/${request}?${new URLSearchParams(this.params).toString()}`;\n    }\n\n    const { data } = await axios.get(this.url);\n    return data.results;\n  },\n\n  incrementPage() {\n    this.params.page += 1;\n  },\n\n  resetPage() {\n    this.params.page = 1;\n  },\n\n  get page() {\n    return this.params.page;\n  },\n\n  set page(newPage) {\n    this.params.page = newPage;\n  },\n\n  get searchQuery() {\n    return this.params_search.query;\n  },\n\n  set searchQuery(newQuery) {\n    this.params_search.query = newQuery;\n  },\n};\n\n// Запрос информации О ФИЛЬМЕ, ОБ АКТЁРСКОМ СОСТАВЕ и ОБЗОРОВ для страницы кинофильма\nexport const movieApiService = {\n  PATH: `movie`,\n  params: {\n    api_key: `${URL.KEY}`,\n    language: 'en-US',\n  },\n\n  async fetchArticles(request, id) {\n    const url = `${URL.BASE}/${this.PATH}/${id}${request}?${new URLSearchParams(\n      this.params,\n    ).toString()}`;\n\n    const { data } = await axios.get(url);\n    return data;\n  },\n};\n","const URL = {\n  BASE: 'https://api.themoviedb.org/3',\n  KEY: 'd59d4b143292fc56b6769ba48f713e41',\n  W342_IMG_URL: 'https://image.tmdb.org/t/p/w342',\n  W500_IMG_URL: 'https://image.tmdb.org/t/p/w500',\n  W780_IMG_URL: 'https://image.tmdb.org/t/p/w780',\n  TRAILER: 'https://www.youtube.com/embed/',\n};\n\nexport default URL;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"MovieDetailsPage_box__11NVZ\",\"description\":\"MovieDetailsPage_description__15g4w\",\"additional\":\"MovieDetailsPage_additional__2L4rR\"};","import { useState, useEffect, lazy, Suspense } from 'react';\nimport { useParams, Routes, Route, Link } from 'react-router-dom';\nimport { movieApiService } from '../../services/api-service';\nimport URL from '../../services/settings-url';\nimport Loading from '../../components/Loading/Loading';\nimport s from './MovieDetailsPage.module.css';\n\nconst Cast = lazy(() =>\n  import('../../components/Cast/Cast.jsx' /* webpackChunkName: \"Cast\" */),\n);\nconst Reviews = lazy(() =>\n  import(\n    '../../components/Reviews/Reviews.jsx' /* webpackChunkName: \"Reviews\" */\n  ),\n);\n\nexport default function MovieDetailsPage() {\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState(null);\n\n  useEffect(() => {\n    movieApiService.fetchArticles(null, movieId).then(setMovie);\n  }, [movieId]);\n\n  return (\n    <>\n      {movie && (\n        <>\n          <div className={s.box}>\n            <img\n              src={`${URL.W342_IMG_URL}/${movie.poster_path}`}\n              alt={movie.title}\n            />\n\n            <div className={s.description}>\n              <h2>{movie.title}</h2>\n              <p>User Score: {movie.vote_average * 10}%</p>\n              <h3>Overview</h3>\n              <p>{movie.overview}</p>\n              <h4>Genres</h4>\n              <p>{movie.genres.map(genre => genre.name + ' ')}</p>\n            </div>\n          </div>\n\n          <div className={s.additional}>\n            <h5>Additional information</h5>\n            <ul>\n              <li>\n                <Link to={`/movies/${movieId}/cast`}>Cast</Link>\n              </li>\n\n              <li>\n                <Link to={`/movies/${movieId}/reviews`}>Reviews</Link>\n              </li>\n            </ul>\n          </div>\n\n          <Suspense fallback={<Loading timeout={3000} />}>\n            <Routes>\n              <Route path=\"/cast\" element={movie && <Cast />} />\n              <Route path=\"/reviews\" element={movie && <Reviews />} />\n            </Routes>\n          </Suspense>\n        </>\n      )}\n    </>\n  );\n}\n"],"sourceRoot":""}